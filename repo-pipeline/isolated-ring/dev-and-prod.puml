@startuml dev-and-prod

[AmloSand] <<SANDBOX>>
note bottom of [AmloSand]
@@@ ideas ในอุดมคติ @@@
AmloDev ทดลอง sync กับ AmloSand

@@@ ที่จะทำ @@@
AmloSand AmloReal
request/response บางอย่างไม่เหมือนกัน
ใน dev เลยจะไม่ทำ sync กับ AmloSand
จะทำเป็น request/response ธรรมดา
end note

package DevCluster {
    cloud {
        [DevA]
        [DevB]
        [DevC]
        [DevD]
        [DevX]
    }
    [DevMaster]

    [AmloDev] <<MOCK>>
    [DopaDev] <<MOCK>>
    [P2DDev] <<MOCK>>
    [FraudDev]
    [InsightDev]

    [DevMaster] .r. [AmloDev]
    [AmloDev] .r. [AmloSand]
    [DevMaster] .r. [DopaDev]
    [DevMaster] .r. [P2DDev]
    [DevMaster] .r. [FraudDev]
    [FraudDev] <-l- [InsightDev]

    [AmloDev] .[hidden]. [DopaDev]
    [DopaDev] .[hidden]. [P2DDev]
    [P2DDev] .[hidden]. [FraudDev]

    [DevMaster] .[hidden].. [DevA]
    [DevA] .[hidden]. [DevB]
    [DevB] .[hidden]. [DevC]
    [DevC] .[hidden]. [DevD]
    [DevD] .[hidden]. [DevX]
    [DevD] .[hidden]. [DevX]
}

package PreCluster {
    [Testflight]

    [AmloPre] <<MOCK>>
    [DopaPre] <<MOCK>>
    [P2SPre] <<MOCK>>
    [BlobPre]
    [FraudPre]
    [InsightPre]

    [Testflight] .r. [AmloPre]
    [AmloPre] .r. [BlobPre]
    [Testflight] .r. [DopaPre]
    [DopaPre] .u. [BlobPre]
    [Testflight] .r. [P2SPre]
    [Testflight] .... [FraudPre]
    [FraudPre] <-l- [InsightPre]

    [AmloPre] .[hidden]. [DopaPre]
    [DopaPre] .[hidden]. [P2SPre]
}

[AmloProd] <<VM>>
[Amlo] <<REAL>>
[DopaProd] <<VM>>
[Dopa] <<REAL>>
[P2D] <<REAL>>

package ProdCluster {
    cloud {
        [Staging]
    }
    [Production]
    [FraudProd]
    [InsightProd]

    [Production] .[hidden].. [Staging]
    [Production] .. [FraudProd]
    [FraudProd] <-l- [InsightProd]
}

[Production] . [AmloProd]
[AmloProd] . [Amlo]
[Production] .. [DopaProd]
[DopaProd] . [Dopa]
[Production] ... [P2D]

@enduml