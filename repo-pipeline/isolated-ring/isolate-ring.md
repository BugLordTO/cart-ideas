- ‡∏à‡∏≤‡∏Å #mom
```
#mom Release Engineer

- apim
    0. ‚úÖ ‡∏°‡∏µ 6 ‡∏ï‡∏±‡∏ß
        > pipeline auto move ring > manual copy ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô
    2. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏° api
    3. ‚úÖ ‡πÄ‡∏≠‡∏≤ secret key apim ‡∏°‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏á
    4. 3rd dev ‡πÄ‡∏•‡πà‡∏ô playground
        > final idp login

===================================

- repo/pipeline
    - ‡πÅ‡∏¢‡∏Å/‡∏£‡∏ß‡∏° ring
        - ‚åõ ‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÅ‡∏¢‡∏Å env ‡∏Ç‡∏≤‡∏î
        - ‚åõ devmaster ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏à‡∏∞ dev ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡πÉ‡∏´‡πâ deploy ‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏¢‡∏Å ring
            - ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏°‡∏±‡πâ‡∏¢
            - ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏±‡πâ‡∏¢
            - ‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥ setup process ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô
    - kubernetes/webapp
        - zip wf/mcontent/apptext pipeline use zip tool
        - zip tool for 3rd
            - web content
            - etc
        - apptext testcase
    - JsLib > ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ manual > auto ‡πÑ‡∏î‡πâ‡∏Å‡πá‡∏î‡∏µ
```
![](out/selected-ideas/SelectedIsolateRing.png)

## ‚úÖ ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ dev ring ‡∏°‡∏µ kube deployment ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å 1 ‡∏Å‡∏•‡∏∏‡πà‡∏°
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô deployment ‡∏ó‡∏µ‡πà‡∏à‡∏∞ dev ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏±‡∏ö ring ‡∏≠‡∏∑‡πà‡∏ô ‡πÅ‡∏•‡πâ‡∏ß deployment ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô db/collection ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á dev ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏±‡∏ö ring ‡∏≠‡∏∑‡πà‡∏ô
- [‡∏£‡∏≠‡∏á] optimize kube node pool
- [‡∏£‡∏≠‡∏á] optimize db resouce

## ‚úÖ setup ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° dev

### üî• mobile
- [req] (precess ‡πÄ‡∏î‡∏¥‡∏°) ‡∏™‡∏£‡πâ‡∏≤‡∏á mobile branch ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡∏π‡∏Å‡πÉ‡∏ô appcenter > ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ deva2.mobile

### üî• zip
- [req] (precess ‡πÄ‡∏î‡∏¥‡∏°) gen zip ‡πÅ‡∏•‡πâ‡∏ß update ‡∏ï‡∏≤‡∏° ring

### üî• route/proxy/host
- check/update azure config PartnerProxy:Clusters
    - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô clusters ‡∏Ç‡∏≠‡∏á proxy ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    - ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
        - ‡∏à‡∏≤‡∏Å manaapi.devmaster2.svc.cluster.local
        - ‡πÄ‡∏õ‡πá‡∏ô manaapi.deva2.svc.cluster.local
- azure config HostUrl
    - check/update azure config ‡∏ï‡∏≤‡∏° ring label ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô host url ‡∏Ç‡∏≠‡∏á deployment ‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å
        - ‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ someapi1:HostUrl
        - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏ä‡πà‡∏ô FileApi:HostUrl, QrApi:HostUrl

### üî• kube deployment
- ‡∏™‡∏£‡πâ‡∏≤‡∏á/apply kube manifest file ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ deployment ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
    - (precess ‡πÄ‡∏î‡∏¥‡∏°) ‡∏™‡∏£‡πâ‡∏≤‡∏á api branch ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡∏π‡∏Å pipeline ‡πÉ‡∏ô devops > ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ deva2.manaapi ‡πÅ‡∏•‡∏∞ deva2.someapi1 
    - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á ManGen
        - deployment ‡∏ó‡∏µ‡πà‡∏à‡∏∞ dev (‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏¢‡πÜ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° deployment ‡∏Å‡πá‡πÑ‡∏î‡πâ)
        - [req] mcproxy > ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ deva2.mcproxy
    - ManGen ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ apply manifest ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß > nice to have

### üî• db/collection
- ‡∏™‡∏£‡πâ‡∏≤‡∏á db/collection ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- ‡∏õ‡∏£‡∏±‡∏ö code ‡∏™‡πà‡∏ß‡∏ô db/collection ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà
- [optional] ‡∏ó‡∏≥ script ‡∏™‡∏£‡πâ‡∏≤‡∏á db + index + config(‡πÄ‡∏ä‡πà‡∏ô gps) ‡∏ï‡∏≤‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞ collection ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô

## ‚úÖ ‡∏ï‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏à‡∏ö‡∏á‡∏≤‡∏ô

### üî• source code
- reverse code ‡∏™‡πà‡∏ß‡∏ô db/collection ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- pull request (precess ‡πÄ‡∏î‡∏¥‡∏°)
    - mobile
    - api
    - zip

### üî• route/proxy/host
- azure config ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- pull request route ‡πÉ‡∏´‡∏°‡πà

### üî• kube deployment
- delete pods ‡πÉ‡∏ô ring namespace

### üî• db/collection
- delete db/collection ‡πÉ‡∏ô ring

=======================================

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏¢ #mom #releaseengineer

```
## setup ring process step ‡∏Ñ‡πà‡∏≤‡∏ß‡πÜ
- mobile > precess ‡πÄ‡∏î‡∏¥‡∏°
- zip > precess ‡πÄ‡∏î‡∏¥‡∏°
- route/proxy/host > check/update azure config
    - PartnerProxy:Clusters
    - xxxApi:HostUrl
- kube deployment
    - ‡πÉ‡∏ä‡πâ ManGen ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞ deployment ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    - ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ mcproxy
    - ManGen ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ apply manifest ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß > nice to have
- db/collection
    - ‡∏™‡∏£‡πâ‡∏≤‡∏á db/collection
    - ‡∏õ‡∏£‡∏±‡∏ö code ‡∏™‡πà‡∏ß‡∏ô db/collection ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà
    - ‡∏ó‡∏≥ script ‡∏™‡∏£‡πâ‡∏≤‡∏á db + index + config(‡πÄ‡∏ä‡πà‡∏ô gps) ‡∏ï‡∏≤‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞ collection ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô

## ‡∏ï‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏à‡∏ö‡∏á‡∏≤‡∏ô
- source code
    - reverse code ‡∏™‡πà‡∏ß‡∏ô db/collection ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    - pull request (precess ‡πÄ‡∏î‡∏¥‡∏°)
- route/proxy/host
    - azure config ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    - pull request route ‡πÉ‡∏´‡∏°‡πà
- kube deployment > delete pods ‡πÉ‡∏ô ring namespace
- db/collection > delete db/collection ‡πÉ‡∏ô ring

## ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
- revise ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö session > scope ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô plan
- ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á remind ‡∏Å‡πà‡∏≠‡∏ô ‡∏•‡∏á‡∏°‡∏∑‡∏≠ dev ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á session ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏ó‡∏ô
- reverse code ‡∏™‡πà‡∏ß‡∏ô db/collection ‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏±‡πâ‡∏¢
    - ‡πÄ‡∏≠‡∏≤‡∏•‡∏á stack overflow
```

=======================================

#mom #202208 31 #financial #releaseengineer #server

# financial
- ‡πÄ‡∏ä‡πá‡∏Ñ parameters ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô

# release engineer server
- service ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏ä‡πà‡∏ô dopa p2d ‡πÉ‡∏ô dev & prod ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á
